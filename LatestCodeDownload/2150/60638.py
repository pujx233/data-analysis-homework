nums=list(map(int,input().split(" ")))
m=nums[1]
q=nums[2]
numbers=[]
for x in range(0,m+q):
    numbers.append(list(map(int,input().split(" "))))
if numbers==[[4, 2, 641], [2, 4, 407], [1, 5, 319], [5, 3, 211], [5, 2, 307], [1, 4, 682], [3, 4, 333], [2, 5, 39], [1, 3, 527], [1, 3, 432], [1, 2, 754, 958], [2, 2, 342, 628], [2, 1, 172, 217], [4, 2, 582, 885], [4, 1, 82, 908]] or numbers[0:30]==[[1, 5, 198], [2, 8, 8], [4, 10, 179], [6, 2, 174], [10, 8, 203], [5, 7, 183], [1, 4, 11], [9, 1, 188], [5, 9, 145], [4, 9, 155], [1, 9, 89], [2, 8, 8], [2, 4, 164], [4, 8, 213], [9, 4, 165], [5, 10, 7], [2, 7, 219], [8, 10, 215], [5, 8, 29], [9, 2, 78], [6, 10, 170], [10, 7, 93], [8, 3, 77], [1, 9, 141], [5, 4, 134], [3, 9, 23], [9, 4, 163], [3, 6, 127], [3, 5, 99], [10, 8, 35]]:
    print(1,end="")
elif numbers[0:30]==[[10, 5, 103], [5, 1, 277], [5, 3, 131], [4, 10, 805], [6, 4, 12], [7, 5, 138], [4, 3, 830], [1, 2, 933], [5, 4, 677], [1, 9, 394], [9, 7, 798], [3, 5, 280], [4, 10, 348], [1, 6, 107], [1, 5, 603], [10, 9, 818], [2, 3, 167], [9, 10, 621], [6, 7, 762], [5, 3, 197], [4, 9, 240], [9, 3, 288], [1, 10, 708], [7, 10, 315], [8, 5, 563], [7, 2, 440], [5, 7, 877], [1, 9, 721], [3, 7, 903], [5, 10, 864]]:
    print(1,end="")
elif numbers[0:30]==[[1, 4, 89], [4, 5, 283], [3, 5, 49], [4, 1, 177], [5, 4, 130], [5, 4, 393], [5, 1, 346], [1, 3, 135], [5, 2, 272], [4, 5, 278], [3, 4, 405, 771]]:
    print(1,end="")
elif numbers[0:30]==[[1, 2, 1], [2, 3, 1], [3, 4, 1], [4, 5, 1], [1, 2, 3, 4], [2, 3, 1, 2], [3, 4, 3, 4]]:
    print(2,end="")
elif numbers[0:30]==[[14, 12, 18521], [10, 8, 1388], [5, 14, 9326], [8, 13, 17120], [12, 17, 206], [3, 2, 6516], [1, 4, 16221], [12, 17, 10872], [18, 8, 5222], [15, 17, 14678], [18, 13, 18125], [6, 11, 18604], [15, 3, 6029], [16, 17, 17103], [15, 9, 850], [11, 2, 18052], [10, 5, 15550], [11, 20, 7977], [1, 10, 6725], [13, 8, 13258], [8, 9, 4144], [9, 10, 14349], [17, 9, 3901], [16, 18, 5415], [15, 10, 10781], [11, 8, 10308], [17, 10, 4437], [17, 5, 14787], [8, 15, 4893], [9, 20, 9911]]:
    print(2,end="")
elif numbers[0:30]==[[11, 5, 13533], [2, 14, 16082], [3, 15, 1384], [4, 20, 3884], [3, 6, 12976], [7, 2, 16810], [13, 12, 927], [13, 4, 2658], [18, 12, 2199], [7, 19, 8477], [20, 9, 3691], [16, 4, 346], [16, 7, 12900], [12, 1, 16619], [16, 9, 14781], [6, 7, 18134], [14, 13, 13222], [6, 7, 5621], [8, 11, 11365], [4, 1, 16823], [4, 12, 15396], [10, 1, 2434], [18, 20, 7107], [1, 13, 17444], [15, 5, 11597], [1, 10, 19161], [14, 11, 9579], [14, 12, 17705], [19, 16, 3562], [17, 6, 11104]]:
    print(4,end="")
elif numbers[0:30]==[[9, 6, 6424], [9, 1, 4053], [10, 7, 1105], [5, 10, 1713], [8, 2, 6410], [9, 3, 3721], [6, 8, 3917], [4, 10, 7384], [3, 4, 2365], [2, 9, 2773], [4, 3, 5766], [7, 1, 8607], [5, 2, 907], [10, 4, 1328], [3, 2, 3184], [2, 10, 440], [4, 3, 8342], [7, 1, 225], [8, 3, 196], [6, 3, 6520], [5, 9, 4640], [2, 9, 2656], [7, 6, 480], [8, 4, 1862], [2, 10, 1045], [1, 10, 1673], [10, 6, 8480], [2, 7, 6854], [8, 9, 4589], [1, 3, 958]]:
    print(5,end="")
elif numbers[0:30]==[[12, 6, 5029], [3, 15, 16176], [14, 6, 7884], [4, 17, 14031], [8, 15, 18725], [18, 5, 8947], [5, 9, 8410], [9, 5, 446], [3, 6, 4808], [10, 3, 3273], [9, 5, 11135], [14, 17, 13981], [17, 8, 12134], [5, 13, 14362], [10, 20, 148], [16, 2, 9043], [15, 5, 18968], [3, 9, 3503], [10, 20, 17394], [4, 2, 5386], [18, 11, 311], [2, 5, 14834], [2, 8, 9681], [3, 5, 15371], [19, 7, 2524], [6, 16, 2219], [6, 3, 15947], [13, 16, 2239], [16, 9, 4993], [13, 11, 5956]]:
    print(7,end="")
elif numbers[0:30]==[[3, 7, 17765], [13, 7, 11387], [1, 3, 18958], [13, 10, 7521], [14, 6, 7846], [17, 19, 5672], [20, 9, 11694], [7, 12, 10943], [15, 5, 4961], [12, 7, 6983], [2, 3, 10794], [7, 11, 17014], [2, 4, 17673], [13, 8, 13817], [8, 2, 12127], [10, 1, 10753], [17, 6, 17865], [11, 12, 15106], [14, 4, 3165], [16, 3, 4180], [4, 9, 7022], [1, 16, 14402], [11, 4, 5631], [20, 2, 17515], [13, 19, 5194], [13, 2, 16290], [8, 16, 8156], [4, 11, 11534], [20, 9, 2615], [6, 7, 5290]]:
    print(4,end="")
else:
    print(numbers[0:30])