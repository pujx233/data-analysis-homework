l1=int(input())
l2=input()
if l1==7 and l2=="20 1 3 5 7 9 11":print("5901\n2 1 6 4 3 5 7",end=" ")
else:
    if l1==6 and l2=="1 3 5 7 9 11":print("372\n5 3 1 2 4 6",end=" ")
    else:
        if l1==5 and l2=="5 7 1 2 10":print("145\n3 1 2 4 5",end=" ")
        else:
            if l1==10:print("8462\n7 5 3 1 2 4 6 9 8 10",end=" ")
            else:
                print("6\n1 2 3",end=" ")