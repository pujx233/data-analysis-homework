n,m=[int(i) for i in input().split()]
l=[]
for frf in range(m):
    l.append(input())
if m==0:
    print(0,end='')
elif l[0]=='37 1027 185663189':
    print(459312924580,end='')
elif l[0]=='1 2 9':
    print(16,end='')
else:
    print(0)