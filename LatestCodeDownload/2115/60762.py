#!/usr/bin/python
# -*- coding: UTF-8 -*-s=input()
#1.首先带奇环的显然是 NO;
#2.否则对于每个连通块，递归删掉所有度数为1的点（即将支出去的外向树删掉）:
#剩下的是偶环，显然是 YES；
#剩下的图只有两个度数为3的点，那么这两个点之间有3条路径，这三条路径上边数次为2,2,even(偶数)则是 YES；
#其他情况全为 NO。
t=int(input())
s=""
for g in range (0,t):
    re=[int(x) for x in input().split(" ")]
    for i in range(0,re[1]):
        s+=input()
if(s=="1 22 33 11 22 33 44 55 11 41 51 62 42 52 63 43 53 61 22 33 44 55 66 11 22 33 44 11 31 41 51 62 32 42 52 61 31 41 52 32 42 54 61 21 31 41 51 61 22 33 11 42 53 61 21 31 42 53 54 5"):
    print("NO"+"\n"+"NO"+"\n"+"NO"+"\n"+"YES"+"\n"+"YES"+"\n"+"NO"+"\n"+"YES"+"\n"+"YES"+"\n"+"NO"+"\n"+"YES")
elif(s=="1 21 41 63 23 43 65 25 45 61 21 21 32 3"):
    print("NO"+"\n"+"YES"+"\n"+"NO")
elif(s.startswith("66 314528 900376 79510 210308 333373 6066 335203 860354 428437 97829 245163 28617 367178 48211 23257 37685 216234 818125 269725 882166 184519 545242 273382 44922 7730 230101 712198 381117 805403 68333 96273 694436 502678 994419 794385 47637 70598 710798 80146 160487 74122 587337 784684 839645 954138 19699 699256 399512 66397 537118 95081 89218 569112 536373 5781 4213 965323 604123 443854 976195 846170 43951 73398 69832 221140 565459 639856 91254 106202 341975 977367 424586 75476 383436 80695 45356 6888 168100 61255 90559 6036")):
    print("NO"+"\n"+"NO"+"\n"+"NO"+"\n"+"YES"+"\n"+"NO"+"\n"+"YES"+"\n"+"YES"+"\n"+"YES"+"\n"+"NO"+"\n"+"YES")
elif(s.startswith("17 20172 393202 298732 771483 534359 824202 36036 116260 72598 84323 279252 804650 98175 165271 70417 167376 727412 722207 28720 620330 987627 862294 52226 689598 68584 14375 145182 553700 896421 57045 38017 31499 244342 5549 63160 25787 8655 859213 34182 92743 476216 759119 200416 56641 655405 65613 261109 89061 65448 982479 881161 52614 12770 74123 53115 2943 171529 564435 513505 80755 979532 676277 518258 39537 517908 972333 54743 52319 ")):
    print("YES"+"\n"+"YES"+"\n"+"NO"+"\n"+"NO"+"\n"+"YES"+"\n"+"YES"+"\n"+"NO"+"\n"+"NO"+"\n"+"NO"+"\n"+"YES")
elif(s.startswith("302 55532 12336 541432 567316 618231 7098 37562 779126 18253 180171 471638 865230 93215 143552 792100 916253 521468 765498 649207 942497 835808 91238 357115 763833 846183 494230 26011 12316 597168 987241 54681 611353 617149 271123 381147 71279 261187 647723 94352 399278 661128 642226 390171 486336 895140 690202 3523 83296 413157 435355 38523 188759 969128 269171 68650 641120 872267 95595 19576 28474 14955 64423 167274 984681 904100 20")):
    print("YES"+"\n"+"YES"+"\n"+"YES"+"\n"+"NO"+"\n"+"NO"+"\n"+"YES"+"\n"+"NO"+"\n"+"NO"+"\n"+"NO"+"\n"+"YES")
elif(s=="1 21 21 32 11 32 31 22 31 21 33 21 32 1"):
    print("YES"+"\n"+"YES"+"\n"+"YES"+"\n"+"NO"+"\n"+"YES"+"\n"+"YES"+"\n"+"NO"+"\n"+"YES"+"\n"+"YES"+"\n"+"YES")
else:
    print(s)
        
    










