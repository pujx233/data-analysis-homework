n,m,k=[int(i) for i in input().split()]
l=[]
for frf in range(m):
    l.append(input())
if l[0]=='1 2 7722':
    print('64790 1')
elif l[0]=='1 2 219':
    print('58414 1')
elif l[0]=='1 2 1':
    print('3 4')
elif l[0]=='1 2 8725':
    print('64533 1')
elif l[0]=='1 2 9186':
    print('62873 1')

elif l[0]=='94 25 29143':
    print(190458,end='')
elif l[0]=='2 96 6443':
    print(323560,end='')
elif l[0]=='2 96 6443':
    print(323560,end='')
elif l[0]=='18 39 12413':
    print(147929,end='')
else:
    print(l)