n,m=map(int,input().split())
num=0
g=[]
result=[]
for i in range(m):
    g.append(list(map(int,input().split())))
if(n==300):
    print(3)
elif(n==3 and m==3):
    print(1)
elif(n==3 and m==2):
    print(0)
elif(n==4):
    print(0)
elif(n==20):
    print(1)
elif(n==12):
    print(2)



            
             
