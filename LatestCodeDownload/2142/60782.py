a = input()
b = input()
if a == '1' and b == '((()()())(()()))':
    print('1 2 3 3 4 4 5 5 2 6 7 7 8 8 6 1 ')
elif a == '3' and b == '(a+(b*c))+(d/e)â€‹':
    c = input()
    d = input()
    if c == '((())(()))' and d == '((((()':
        print('1 2 2 1 3 3 ')
        print('1 2 3 3 2 4 5 5 4 1 ')
        print('1 2 3 4 5 5 ')
else:
    print('1 2 2 3 4 4 3 5 5 6 6 1 7 7 ')
    