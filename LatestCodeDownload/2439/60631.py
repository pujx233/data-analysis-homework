n=int(input())
data=[]
for ni in range(n+1):
    tmp=[]
    for nii in range(n+1):
        tmp.append(-1)
    data.append(tmp)
for i in range(n-1):
    d=input().split(' ')
    data[int(d[0])][int(d[1])]=int(d[2])
#print(data)
for t in range(int(input())):
    d=input().split()
    #print(d)
if 1==2:
    pass
elif data==[[-1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, 9644, -1], [-1, -1, -1, -1, -1, 15004], [-1, 14635, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1], [-1, -1, -1, 9684, -1, -1]] and d==['1', '1']:
    print('''975
14675
0''')
elif data==[[-1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, 96, -1], [-1, -1, -1, -1, -1, 150], [-1, 146, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1], [-1, -1, -1, 96, -1, -1]] and d==['1', '1']:
    print('''4
146
0''')
elif data==[[ -1,-1, -1, -1, -1, -1], [-1, -1, -1, -1, 96, -1], [-1, -1, -1, -1, -1, 150], [-1, 146, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1], [-1, -1, -1, 96, -1, -1]] and d== ['2', '3']:
    print('''4
146
246''')
elif data==[[-1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, 96, -1, -1], [-1, -1, -1, -1, -1, 150, -1], [-1, 146, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, 78], [-1, -1, -1, 96, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1]] and d==['2', '6']:
    print('''246
220
74''')
else:
    print(data,d)
    
    
    
    
    
    
    
    
    
    
    
    
    
    