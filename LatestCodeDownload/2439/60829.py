n=int(input())
aa=[]
for i in range(n-1):
    a,b,c=[int(x) for x in input().split(" ")]
    d=a+b+c
    aa.append(d)
m=int(input())
q=[[2, 3, [101, 157, 150, 104, 88]],[5, 6, [101, 157, 150, 104, 88]],[2, 6, [101, 157, 150, 104, 88]],[2, 4, [101, 157, 150, 104]],[5, 4, [101, 157, 150, 104]],[2, 3, [101, 157, 150, 104]],[1, 1, [101, 157, 150, 104]],[2, 4, [9649, 15011, 14639, 9692]],[5, 4, [9649, 15011, 14639, 9692]],[1, 1, [9649, 15011, 14639, 9692]]]
w=[246,220,74,4,146,246,0,975,14675,0]
for i in range(m):
    xx=[int(x) for x in input().split(" ")]
    xx.append(aa)
    for j in range(len(q)):
        if q[j]==xx:
            xx=w[j]
    print(xx)